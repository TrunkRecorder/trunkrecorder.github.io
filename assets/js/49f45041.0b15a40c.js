"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[302],{3905:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>b});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),o=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},d=function(e){var t=o(e.components);return n.createElement(s.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},k=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,l=e.originalType,s=e.parentName,d=u(e,["components","mdxType","originalType","parentName"]),c=o(r),k=a,b=c["".concat(s,".").concat(k)]||c[k]||p[k]||l;return r?n.createElement(b,i(i({ref:t},d),{},{components:r})):n.createElement(b,i({ref:t},d))}));function b(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=r.length,i=new Array(l);i[0]=k;var u={};for(var s in t)hasOwnProperty.call(t,s)&&(u[s]=t[s]);u.originalType=e,u[c]="string"==typeof e?e:a,i[1]=u;for(var o=2;o<l;o++)i[o]=r[o];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}k.displayName="MDXCreateElement"},6120:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>p,frontMatter:()=>l,metadata:()=>u,toc:()=>o});var n=r(7462),a=(r(7294),r(3905));const l={sidebar_label:"Linux Install",sidebar_position:1},i="Linux Installs",u={unversionedId:"Install/INSTALL-LINUX",id:"Install/INSTALL-LINUX",title:"Linux Installs",description:"This page covers installing Trunk Recorder on a Linux box. I test everything on Ubuntu, but other flavors of Linux are supported. Instructions are also included for Arch Linux.",source:"@site/docs/Install/INSTALL-LINUX.md",sourceDirName:"Install",slug:"/Install/INSTALL-LINUX",permalink:"/docs/Install/INSTALL-LINUX",draft:!1,editUrl:"https://github.com/TrunkRecorder/trunkrecorder.github.io/tree/main/docs/Install/INSTALL-LINUX.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_label:"Linux Install",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/docs/intro"},next:{title:"Docker Install",permalink:"/docs/Install/INSTALL-DOCKER"}},s={},o=[{value:"Install Prerequisites",id:"install-prerequisites",level:2},{value:"Ubuntu 23.04",id:"ubuntu-2304",level:3},{value:"Ubuntu 22.04",id:"ubuntu-2204",level:3},{value:"Ubuntu 21.04",id:"ubuntu-2104",level:3},{value:"Ubuntu 20.x",id:"ubuntu-20x",level:3},{value:"Older Ubuntu Versions...",id:"older-ubuntu-versions",level:3},{value:"Arch Linux",id:"arch-linux",level:3},{value:"Install from AUR",id:"install-from-aur",level:4},{value:"Install with AUR helper",id:"install-with-aur-helper",level:4},{value:"Install from source",id:"install-from-source",level:4},{value:"Building Trunk Recorder",id:"building-trunk-recorder",level:2},{value:"Configuring the UHD for Ettus SDRs",id:"configuring-the-uhd-for-ettus-sdrs",level:2},{value:"Configure the RTL-SDR drivers",id:"configure-the-rtl-sdr-drivers",level:2},{value:"Configuring Trunk Recorder",id:"configuring-trunk-recorder",level:2},{value:"Running trunk recorder.",id:"running-trunk-recorder",level:2},{value:"Runtime options",id:"runtime-options",level:3}],d={toc:o},c="wrapper";function p(e){let{components:t,...r}=e;return(0,a.kt)(c,(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"linux-installs"},"Linux Installs"),(0,a.kt)("p",null,"This page covers installing Trunk Recorder on a Linux box. I test everything on Ubuntu, but other flavors of Linux are supported. Instructions are also included for Arch Linux."),(0,a.kt)("h2",{id:"install-prerequisites"},"Install Prerequisites"),(0,a.kt)("p",null,"To get started, install all of the required packages. Instructions for different versions are below:"),(0,a.kt)("h3",{id:"ubuntu-2304"},"Ubuntu 23.04"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo   apt-get install -y apt-transport-https build-essential ca-certificates fdkaac git gnupg gnuradio gnuradio-dev gr-osmosdr libuhd-dev libboost-all-dev libcurl4-openssl-dev libgmp-dev libhackrf-dev liborc-0.4-dev libpthread-stubs0-dev libssl-dev libuhd-dev libusb-dev pkg-config software-properties-common cmake libsndfile1-dev sox\n")),(0,a.kt)("p",null,"If you are using a HackRF:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt install -y hackrf libhackrf-dev libhackrf0\n")),(0,a.kt)("h3",{id:"ubuntu-2204"},"Ubuntu 22.04"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo   apt-get install -y apt-transport-https build-essential ca-certificates fdkaac git gnupg gnuradio gnuradio-dev gr-osmosdr libuhd4.1.0 libuhd-dev libboost-all-dev libcurl4-openssl-dev libgmp-dev libhackrf-dev liborc-0.4-dev libpthread-stubs0-dev libssl-dev libuhd-dev libusb-dev pkg-config software-properties-common cmake libsndfile1-dev sox\n")),(0,a.kt)("p",null,"If you are using a HackRF:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt install -y hackrf libhackrf-dev libhackrf0\n")),(0,a.kt)("h3",{id:"ubuntu-2104"},"Ubuntu 21.04"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo   apt-get install -y apt-transport-https build-essential ca-certificates fdkaac git gnupg gnuradio gnuradio-dev gr-osmosdr libuhd3.15.0 libuhd-dev libboost-all-dev libcurl4-openssl-dev libgmp-dev libhackrf-dev liborc-0.4-dev libpthread-stubs0-dev libssl-dev libuhd-dev libusb-dev pkg-config software-properties-common cmake libsndfile1-dev sox\n")),(0,a.kt)("p",null,"If you are using a HackRF:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt install -y hackrf libhackrf-dev libhackrf0\n")),(0,a.kt)("h3",{id:"ubuntu-20x"},"Ubuntu 20.x"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt install -y gr-osmosdr osmo-sdr libosmosdr0 libosmosdr-dev libuhd3.15.0 libuhd-dev gnuradio-dev libgnuradio-uhd3.8.1 libgnuradio-osmosdr0.2.0 gcc cpp cmake make build-essential libboost-all-dev  libusb-dev fdkaac sox openssl libssl-dev curl libcurl4 libcurl4-openssl-dev pkg-config liborc-0.4-dev git\n")),(0,a.kt)("p",null,"If you are using a HackRF:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt install -y hackrf libhackrf-dev libhackrf0\n")),(0,a.kt)("h3",{id:"older-ubuntu-versions"},"Older Ubuntu Versions..."),(0,a.kt)("p",null,"These instructions should work on Ubuntu 16.x to 17.x, including Debian 9 and 10. "),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"For ",(0,a.kt)("strong",{parentName:"li"},"Ubuntu 18.04")," add bionic universe before updating the available packages list")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'sudo add-apt-repository "deb http://archive.ubuntu.com/ubuntu bionic universe"\nsudo apt-get update\n')),(0,a.kt)("p",null,"Ubuntu "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt install gnuradio gnuradio-dev libuhd-dev libgnuradio-uhd3.7.11\n")),(0,a.kt)("p",null,"Debian "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt install gnuradio gnuradio-dev libuhd-dev libgnuradio-uhd3.7.13\n")),(0,a.kt)("p",null,"For all SDR based devices..."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt install gr-osmosdr libosmosdr0\n")),(0,a.kt)("p",null,"If using HackRF or one of its derivatives..."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt install hackrf libhackrf0 libhackrf-dev\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt install git cmake make build-essential libboost-all-dev libusb-1.0-0.dev libaacs0 libcppunit-dev libcppunit-1.14-0 libssl-dev openssl curl fdkaac sox libcurl3-gnutls libcurl4 libcurl4-openssl-dev\n")),(0,a.kt)("h3",{id:"arch-linux"},"Arch Linux"),(0,a.kt)("h4",{id:"install-from-aur"},"Install from AUR"),(0,a.kt)("p",null,"Update and dependencies"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo pacman -Suy\nsudo pacman -S --needed base-devel git\n")),(0,a.kt)("p",null,"Clone the package"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"git clone https://aur.archlinux.org/trunk-recorder.git\n")),(0,a.kt)("p",null,"Install trunk-recorder"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"cd trunk-recorder\nmakepkg -si\n")),(0,a.kt)("p",null,"Configure ",(0,a.kt)("inlineCode",{parentName:"p"},"/etc/trunk-recorder/config.json")," and start with ",(0,a.kt)("inlineCode",{parentName:"p"},"systemctl start trunk-recorder.service"),". The service runs as trunk-recorder so ensure needed devices(SDR) and files(Media/Talkgroups) are usable(Read or Read/Write) by the trunk-recorder user. "),(0,a.kt)("h4",{id:"install-with-aur-helper"},"Install with AUR helper"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"yay -S trunk-recorder\n")),(0,a.kt)("p",null,"Configure ",(0,a.kt)("inlineCode",{parentName:"p"},"/etc/trunk-recorder/config.json")," and start with ",(0,a.kt)("inlineCode",{parentName:"p"},"systemctl start trunk-recorder.service"),". The service runs as trunk-recorder so ensure needed devices(SDR) and files(Media/Talkgroups) are usable(Read or Read/Write) by the trunk-recorder user. "),(0,a.kt)("h4",{id:"install-from-source"},"Install from source"),(0,a.kt)("p",null,"It is suggested to make sure your installed packages are up to date and to review the ",(0,a.kt)("a",{parentName:"p",href:"https://wiki.archlinux.org/index.php/System_maintenance#Upgrading_the_system"},"Arch Linux documentation regarding upgrades"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo pacman -Syyu\n")),(0,a.kt)("p",null,"Install the packages required to build Trunk Recorder:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo pacman -S --needed base-devel git cmake boost gnuradio gnuradio-osmosdr libuhd fdkaac sox\n")),(0,a.kt)("p",null,"Continue with Building Trunk Recorder below"),(0,a.kt)("h2",{id:"building-trunk-recorder"},"Building Trunk Recorder"),(0,a.kt)("p",null,'In order to keep your copy of the Trunk Recorder source code free of build artifacts created by the build process, it is suggested to create a separate "out-of-tree" build directory. We will use ',(0,a.kt)("inlineCode",{parentName:"p"},"trunk-build")," as our build directory."),(0,a.kt)("p",null,"Assuming you are in the desired directory to place both trunk-recorder and trunk-build folders to, perform the following..."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"mkdir trunk-build\ngit clone https://github.com/TrunkRecorder/trunk-recorder.git\ncd trunk-build\ncmake ../trunk-recorder\nmake\nsudo make install\n")),(0,a.kt)("h2",{id:"configuring-the-uhd-for-ettus-sdrs"},"Configuring the UHD for Ettus SDRs"),(0,a.kt)("p",null,"If you haven't setup UHD yet there are a few extra steps you need to take:"),(0,a.kt)("p",null,"Install the UHD drivers:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt-get install libuhd-dev uhd-host\n")),(0,a.kt)("p",null,"Download the firmware images. The location of the downloader is different than the error message:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'dpkg -L uhd-host | grep "downloader"\n')),(0,a.kt)("p",null,"The run the downloader at the location identified."),(0,a.kt)("p",null,"Setup the udev rules so any user can access the USB, as documented ",(0,a.kt)("a",{parentName:"p",href:"https://files.ettus.com/manual/page_transport.html#transport_usb_udev"},"here"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"cd /lib/uhd/utils\nsudo cp uhd-usrp.rules /etc/udev/rules.d/\nsudo udevadm control --reload-rules\nsudo udevadm trigger\n")),(0,a.kt)("h2",{id:"configure-the-rtl-sdr-drivers"},"Configure the RTL-SDR drivers"),(0,a.kt)("p",null,"RTL-SDR dongles were originally meant to be used for DTV reception. There are default drivers that sometimes get loaded up for this and need to be blocked so you can use the SDR functionality. "),(0,a.kt)("p",null,"Edit the blocklist:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo nano /etc/modprobe.d/blocklist-rtlsdr.conf\n")),(0,a.kt)("p",null,"and add in the following:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"# Blacklist host from loading modules for RTL-SDRs to ensure they\n# are left available for the Docker guest.\nblacklist dvb_core\nblacklist dvb_usb_rtl2832u\nblacklist dvb_usb_rtl28xxu\nblacklist dvb_usb_v2\nblacklist r820t\nblacklist rtl2830\nblacklist rtl2832\nblacklist rtl2832_sdr\nblacklist rtl2838\nblacklist rtl8192cu\nblacklist rtl8xxxu\n")),(0,a.kt)("p",null,"Now restart to make sure these drivers are not loaded."),(0,a.kt)("h2",{id:"configuring-trunk-recorder"},"Configuring Trunk Recorder"),(0,a.kt)("p",null,"The next step is to ",(0,a.kt)("a",{parentName:"p",href:"/docs/CONFIGURE"},"configure Trunk Recorder")," for the system you are trying to capture."),(0,a.kt)("h2",{id:"running-trunk-recorder"},"Running trunk recorder."),(0,a.kt)("p",null,"If all goes well you should now have the executable named ",(0,a.kt)("inlineCode",{parentName:"p"},"trunk-recorder"),", and created the ",(0,a.kt)("inlineCode",{parentName:"p"},"config.json")," configuration file as described in the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/TrunkRecorder/trunk-recorder/wiki/Configuring-a-System"},"Wiki")," and ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/TrunkRecorder/trunk-recorder/blob/master/README.md#configure"},"README"),"."),(0,a.kt)("p",null,"From your build directory (e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},"trunk-build"),") you can now run\n",(0,a.kt)("inlineCode",{parentName:"p"},"./trunk-recorder")),(0,a.kt)("h3",{id:"runtime-options"},"Runtime options"),(0,a.kt)("p",null,"Trunk Recorder will look for a ",(0,a.kt)("em",{parentName:"p"},"config.json")," file in the same directory as it is being run in. You can point it to a different config file by using the ",(0,a.kt)("em",{parentName:"p"},"--config")," argument on the command line, for example: ",(0,a.kt)("inlineCode",{parentName:"p"},"./trunk-recorder --config=examples/config-wmata-rtl.json"),"."))}p.isMDXComponent=!0}}]);